from shodan_scraper import ShodanScraper
from proxy import Proxy
import threading
import time


def run_search_shodan(scraper, process_index):
    scraper.search_shodan(process_index)
    time.sleep(1)

def get_exploits_thread(scraper):
    scraper.get_exploits()


if __name__ == "__main__":
    proxy = Proxy()
    scraper = ShodanScraper(proxy, verbose=True)

    # scraper.search_shodan()

    num_threads = 20
    threads = []
    for i in range(num_threads):
        scraper.thread = threading.Thread(target=run_search_shodan, args=(scraper,i+1))
        threads.append(scraper.thread)
        scraper.thread.start()
        time.sleep(1)
    # print(scraper.get_exploits())
        
