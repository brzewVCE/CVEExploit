import pandas as pd
import string

def index_to_string(index):
        chars = string.ascii_letters + string.digits  # A-Z, a-z, 0-9
        base = len(chars)  # Base is the number of characters we are cycling through

        # Calculate string length based on index
        length = 1
        while index >= base ** length:
            index -= base ** length
            length += 1

        # Generate the string for the given index
        result = ""
        for _ in range(length):
            index, char_index = divmod(index, base)
            result = chars[char_index] + result

        return result

filename =  "found_ips.csv"
#pandas adding header to csv
try:
    with open(filename, "r") as file:
        pass
except FileNotFoundError:
    with open(filename, "w") as file:
        current_index = ["1"]
        query = [index_to_string(1)]
        data = {
            "ip": [], 
            "query": [], 
            "index": [], 
            "current_index": []  }
        df = pd.DataFrame(data)

        print(df)
        df.to_csv(filename, index=False)