import requests
from bs4 import BeautifulSoup
import re

def get_proxy_list(protocol):
    url = "https://api.proxyscrape.com/v2/?request=displayproxies&protocol=" + protocol + "&timeout=10000&country=all&ssl=all&anonymity=all&auth="
    response = requests.get(url)
    soup = BeautifulSoup(response.text, 'html.parser')
    filename = str(protocol)+"_proxies.txt"
    with open(filename, "w") as file:
        file.write(response.text.replace('\n', ''))
    return print(response.text)


if __name__ == "__main__":
    proxies = get_proxy_list("http")